(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),o=n(7),i=n.n(o),s=(n(13),n(4)),u=n(2);function l(e){return Object(c.jsx)("button",{className:e.className,"data-testid":e.testId,onClick:e.onClick})}l.defaultProps={className:""};var j=l,d="A".charCodeAt(),h="none",b="ship",f=Array.from(Array(11).keys()).splice(1),v=Array.from(Array(10).keys()).map((function(e){return String.fromCharCode(e+d)}));var O=function(e){var t=e.onClickSquare,n=e.onShipHasSunk,a=e.onPlaceShip,o=e.showShip;function i(e,t){return"".concat(e).concat(t)}function l(e,t,n,c){e.set(i(t,n),c)}function d(e,t,n){return e.get(i(t,n))}var O=Object(r.useState)(function(){var e=new Map;return f.forEach((function(t){return v.forEach((function(n){return l(e,n,t,h)}))})),e}()),p=Object(u.a)(O,2),m=p[0],x=p[1],y=Object(r.useState)([]),w=Object(u.a)(y,2),S=w[0],k=w[1],N=Object(r.useState)(!1),g=Object(u.a)(N,2),C=g[0],A=g[1];function P(e,t,n,c){!function(e,t,n,c){if(0===e.length)return e.push({col:n,row:c}),void l(t,n,c,b);var r=e.length<3&&!e.some((function(e){return e.row===c&&e.col===n})),a=e.every((function(e){return e.row===c}))&&e.some((function(e){return e.col.charCodeAt()-n.charCodeAt()===1||e.col.charCodeAt()-n.charCodeAt()===-1})),o=e.every((function(e){return e.col===n}))&&e.some((function(e){return e.row-c===1||e.row-c===-1}));r&&(o||a)&&(e.push({col:n,row:c}),l(t,n,c,b))}(e,t,n,c),3===e.length&&(A(!0),a()),k(e)}function E(e,c){var r=Object(s.a)(S),a=new Map(m);C?function(e,c,r,a){var o=!1,i=!1;d(c,r,a)===b?(i=!0,l(c,r,a,"hit"),o=e.every((function(e){return"hit"===d(c,e.col,e.row)}))):d(c,r,a)===h&&(i=!0,l(c,r,a,"miss")),i&&!o&&t(),o&&n()}(r,a,e,c):P(r,a,e,c),x(a)}function M(e,t){var n=d(m,e,t),r=o||n!==b?n:"";return Object(c.jsx)(j,{testId:i(e,t),className:r,onClick:function(){return E(e,t)}},i(e,t))}return Object(c.jsxs)("div",{className:"board",children:[Object(c.jsx)("div",{className:"column-label",children:v.map((function(e){return Object(c.jsx)("div",{children:e},e)}))}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"grid",children:function(){var e=[],t=[];return f.forEach((function(n,r){t=[],v.forEach((function(e){t.push(M(e,n))})),e.push(Object(c.jsx)("div",{className:"grid-row",children:t},r))})),e}()}),Object(c.jsx)("div",{className:"row-label",children:f.map((function(e){return Object(c.jsx)("div",{children:e},e)}))})]})]})},p="Player 1",m="Player 2";var x=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(p),i=Object(u.a)(o,2),l=i[0],j=i[1],d=Object(r.useState)(p),h=Object(u.a)(d,2),b=h[0],f=h[1],v=Object(r.useState)(new Map([[p,!1],[m,!1]])),x=Object(u.a)(v,2),y=x[0],w=x[1],S=l===p?m:p,k=Object(s.a)(y.values()).every((function(e){return!0===e}));function N(){f(l),j(S)}function g(){a(l),f("".concat(l," ").concat(S))}function C(){var e=new Map(y);e.set(l,!0);var t=Object(s.a)(e.values()).every((function(e){return!0===e}));f(t?l:S),j(S),w(e)}function A(e){var t=b.includes(e)?"":"hidden";return t=n?"".concat(t," unclickable"):t,Object(c.jsxs)("div",{className:t,children:[Object(c.jsx)("h3",{className:"text-center",children:"".concat(e,"'s Board")}),Object(c.jsx)(O,{showShip:!!n||!k,onShipHasSunk:g,onClickSquare:N,onPlaceShip:C})]})}return Object(c.jsx)("div",{className:"split",children:Object(c.jsxs)("div",{className:"split-child-container",children:[function(){var e=l===p?"orange":"purple",t="";return t=n?"Congratulations ".concat(n,"!! You sunk ").concat(S,"'s ship."):k?"Attack ".concat(S," by clicking any square."):"Place your ship on board by clicking 3 adjacent squares horizontally or vertically.",Object(c.jsxs)("div",{className:"game-info",children:[!n&&Object(c.jsx)("h4",{className:"text-center ".concat(e),children:"".concat(l,"'s Turn")}),Object(c.jsx)("p",{className:"text-center",children:t}),n&&Object(c.jsx)("button",{className:"reset-button",onClick:function(){return window.location.reload()},children:"Play again!"})]})}(),A(p),A(m)]})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a4677e94.chunk.js.map